{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecordList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,message,records;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/record/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:records=_context.sent;setRecords(records);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getRecords.apply(this,arguments);}getRecords();return;},[records.length]);// This method will map out the records on the table\nfunction recordList(){return records.map(function(scp){return/*#__PURE__*/_jsx(\"div\",{className:\"col-6 p-2 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-dark text-light\",children:[/*#__PURE__*/_jsx(Link,{to:\"/scp/\".concat(scp._id),children:/*#__PURE__*/_jsx(\"img\",{src:require(\"./images/\".concat(scp.image)),className:\"card-img-top CatalogImages\",alt:\"scp-pictures\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:scp.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-title\",children:[\"Item #: \",scp.item]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Objectclass: \",scp.objectclass]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Description:\",\" \",scp.description.length>250?\"\".concat(scp.description.substring(0,175),\"...\"):scp.description]}),/*#__PURE__*/_jsx(Link,{to:\"/scp/\".concat(scp._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-light btn btn-primary btn-outline-secondary\",children:\"More info\"})})]})]})},scp._id);});}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 text-light\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"SCP Catalog List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3 mb-3\",children:recordList()})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","RecordList","records","setRecords","getRecords","fetch","response","ok","message","statusText","window","alert","json","length","recordList","map","scp","_id","require","image","name","item","objectclass","description","substring"],"sources":["C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/src/components/recordList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function RecordList() {\r\n  const [records, setRecords] = useState([]);\r\n\r\n  // This method fetches the records from the database.\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      const response = await fetch(`http://localhost:5000/record/`);\r\n\r\n      if (!response.ok) {\r\n        const message = `An error occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n\r\n      const records = await response.json();\r\n      setRecords(records);\r\n    }\r\n\r\n    getRecords();\r\n\r\n    return;\r\n  }, [records.length]);\r\n\r\n  // This method will map out the records on the table\r\n  function recordList() {\r\n    return records.map((scp) => {\r\n      return (\r\n        <div key={scp._id} className=\"col-6 p-2 bg-light\">\r\n          <div className=\"card bg-dark text-light\">\r\n            <Link to={`/scp/${scp._id}`}>\r\n              <img\r\n                src={require(`./images/${scp.image}`)}\r\n                className=\"card-img-top CatalogImages\"\r\n                alt=\"scp-pictures\"\r\n              />\r\n            </Link>\r\n            <hr />\r\n            <div className=\"card-body p-2\">\r\n              <h4 className=\"card-title\">{scp.name}</h4>\r\n              <p className=\"card-title\">Item #: {scp.item}</p>\r\n              <p className=\"card-text\">Objectclass: {scp.objectclass}</p>\r\n              <hr />\r\n              <p className=\"card-text\">\r\n                Description:{\" \"}\r\n                {scp.description.length > 250\r\n                  ? `${scp.description.substring(0, 175)}...`\r\n                  : scp.description}\r\n              </p>\r\n              <Link to={`/scp/${scp._id}`}>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"text-light btn btn-primary btn-outline-secondary\">\r\n                  More info\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  // This following section will display the table with the records of individuals.\r\n  return (\r\n    <div className=\"container mt-5 text-light\">\r\n      <h3>SCP Catalog List</h3>\r\n\r\n      <div className=\"p-3\">\r\n        <div className=\"row mt-3 mb-3\">{recordList()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"qaAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,cAAe,SAASC,WAAT,EAAsB,CACnC,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eAEA;AACAL,SAAS,CAAC,UAAM,SACCM,WADD,0IACd,wLACyBC,MAAK,iCAD9B,QACQC,QADR,kBAGOA,QAAQ,CAACC,EAHhB,yBAIUC,OAJV,8BAI0CF,QAAQ,CAACG,UAJnD,EAKIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EALJ,8DASwBF,SAAQ,CAACM,IAAT,EATxB,QASQV,OATR,eAUEC,UAAU,CAACD,OAAD,CAAV,CAVF,uDADc,6CAcdE,UAAU,GAEV,OACD,CAjBQ,CAiBN,CAACF,OAAO,CAACW,MAAT,CAjBM,CAAT,CAmBA;AACA,QAASC,WAAT,EAAsB,CACpB,MAAOZ,QAAO,CAACa,GAAR,CAAY,SAACC,GAAD,CAAS,CAC1B,mBACE,YAAmB,SAAS,CAAC,oBAA7B,uBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,gBAAUA,GAAG,CAACC,GAAd,CAAR,uBACE,YACE,GAAG,CAAEC,OAAO,oBAAaF,GAAG,CAACG,KAAjB,EADd,CAEE,SAAS,CAAC,4BAFZ,CAGE,GAAG,CAAC,cAHN,EADF,EADF,cAQE,aARF,cASE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BH,GAAG,CAACI,IAAhC,EADF,cAEE,WAAG,SAAS,CAAC,YAAb,sBAAmCJ,GAAG,CAACK,IAAvC,GAFF,cAGE,WAAG,SAAS,CAAC,WAAb,2BAAuCL,GAAG,CAACM,WAA3C,GAHF,cAIE,aAJF,cAKE,WAAG,SAAS,CAAC,WAAb,0BACe,GADf,CAEGN,GAAG,CAACO,WAAJ,CAAgBV,MAAhB,CAAyB,GAAzB,WACMG,GAAG,CAACO,WAAJ,CAAgBC,SAAhB,CAA0B,CAA1B,CAA6B,GAA7B,CADN,QAEGR,GAAG,CAACO,WAJV,GALF,cAWE,KAAC,IAAD,EAAM,EAAE,gBAAUP,GAAG,CAACC,GAAd,CAAR,uBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,kDAFZ,uBADF,EAXF,GATF,GADF,EAAUD,GAAG,CAACC,GAAd,CADF,CAiCD,CAlCM,CAAP,CAmCD,CAED;AACA,mBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,wCADF,cAGE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,eAAf,UAAgCH,UAAU,EAA1C,EADF,EAHF,GADF,CASD"},"metadata":{},"sourceType":"module"}