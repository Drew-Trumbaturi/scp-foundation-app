{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Create(){var _useState=useState({item:\"\",name:\"\",objectclass:\"\",image:\"\",description:\"\",containment:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var navigate=useNavigate();// These methods will update the state properties.\nfunction updateForm(value){return setForm(function(prev){return _objectSpread(_objectSpread({},prev),value);});}// This function will handle the submission.\nfunction onSubmit(_x){return _onSubmit.apply(this,arguments);}// This following section will display the form that takes the input from the user.\nfunction _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newPerson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// When a post request is sent to the create url, we'll add a new record to the database.\nnewPerson=_objectSpread({},form);_context.next=4;return fetch(\"http://localhost:5000/record/add\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newPerson)}).catch(function(error){window.alert(error);return;});case 4:setForm({item:\"\",name:\"\",objectclass:\"\",image:\"\",description:\"\",containment:\"\"});navigate(\"/recordList\");case 6:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"container p-3 bg-light text-light mt-5 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container p-3 bg-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New SCP Record\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"item\",children:\"Item #\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control shortTextArea\",id:\"item\",value:form.item,onChange:function onChange(e){return updateForm({item:e.target.value});}})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"SCP Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control shortTextArea\",id:\"name\",value:form.name,onChange:function onChange(e){return updateForm({name:e.target.value});}})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"objectclass\",children:\"SCP Objectclass\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control shortTextArea\",id:\"objectclass\",value:form.objectclass,onChange:function onChange(e){return updateForm({objectclass:e.target.value});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group mt-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control imageFromUser\",id:\"image\",value:form.image,onChange:function onChange(e){return updateForm({image:e.target.value});}})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"SCP Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"description\",value:form.description,onChange:function onChange(e){return updateForm({description:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"containment\",children:\"SCP Containment\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"containment\",value:form.containment,onChange:function onChange(e){return updateForm({containment:e.target.value});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group p-2 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create person\",className:\"btn btn-primary\"})})]})]})});}","map":{"version":3,"names":["React","useState","useNavigate","Create","item","name","objectclass","image","description","containment","form","setForm","navigate","updateForm","value","prev","onSubmit","e","preventDefault","newPerson","fetch","method","headers","body","JSON","stringify","catch","error","window","alert","target"],"sources":["C:/Users/daddy/Comp6210_SCP_Assignment_2-3/client/src/components/Create.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nexport default function Create() {\r\n  const [form, setForm] = useState({\r\n    item: \"\",\r\n    name: \"\",\r\n    objectclass: \"\",\r\n    image: \"\",\r\n    description: \"\",\r\n    containment: \"\",\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  // These methods will update the state properties.\r\n  function updateForm(value) {\r\n    return setForm((prev) => {\r\n      return { ...prev, ...value };\r\n    });\r\n  }\r\n\r\n  // This function will handle the submission.\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // When a post request is sent to the create url, we'll add a new record to the database.\r\n    const newPerson = { ...form };\r\n\r\n    await fetch(\"http://localhost:5000/record/add\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newPerson),\r\n    }).catch((error) => {\r\n      window.alert(error);\r\n      return;\r\n    });\r\n\r\n    setForm({\r\n      item: \"\",\r\n      name: \"\",\r\n      objectclass: \"\",\r\n      image: \"\",\r\n      description: \"\",\r\n      containment: \"\",\r\n    });\r\n    navigate(\"/recordList\");\r\n  }\r\n\r\n  // This following section will display the form that takes the input from the user.\r\n  return (\r\n    <div className=\"container p-3 bg-light text-light mt-5 mb-3\">\r\n      <div className=\"container p-3 bg-dark\">\r\n        <h3>Create New SCP Record</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"form-group mb-3\">\r\n                <label htmlFor=\"item\">Item #</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control shortTextArea\"\r\n                  id=\"item\"\r\n                  value={form.item}\r\n                  onChange={(e) => updateForm({ item: e.target.value })}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"form-group mb-3\">\r\n                <label htmlFor=\"name\">SCP Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control shortTextArea\"\r\n                  id=\"name\"\r\n                  value={form.name}\r\n                  onChange={(e) => updateForm({ name: e.target.value })}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <div className=\"form-group mb-3\">\r\n                <label htmlFor=\"objectclass\">SCP Objectclass</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control shortTextArea\"\r\n                  id=\"objectclass\"\r\n                  value={form.objectclass}\r\n                  onChange={(e) => updateForm({ objectclass: e.target.value })}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <div className=\"form-group mt-3\">\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"form-control imageFromUser\"\r\n                  id=\"image\"\r\n                  value={form.image}\r\n                  onChange={(e) => updateForm({ image: e.target.value })}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <label htmlFor=\"description\">SCP Description</label>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              value={form.description}\r\n              onChange={(e) => updateForm({ description: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <label htmlFor=\"containment\">SCP Containment</label>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"containment\"\r\n              value={form.containment}\r\n              onChange={(e) => updateForm({ containment: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group p-2 mb-3\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Create person\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}